<!DOCTYPE html>
<html>

<head>
    <title>WebSocket demo</title>
</head>

<body>
    <div id="app">
        <ol>
            <li v-for="light in lights" v-text="light.name">
            </li>
        </ol>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
        var app = new Vue({

            el: '#app',

            data: {
                lights: [],
            },

            methods: {
                ws_update: function(event) {
                    this.lights = JSON.parse(event.data)
                }
            },

            created() {
                ws = new WebSocket("ws://127.0.0.1:5678/")
                ws.onmessage = this.ws_update
            }
        })
    </script>
</body>

</html>